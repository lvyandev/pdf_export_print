# PDF Export Print ä½¿ç”¨æŒ‡å—

åŸºäº TypeSafeAdapterExample ç¤ºä¾‹çš„è¯¦ç»†ä½¿ç”¨æ–‡æ¡£

## ğŸ“‹ ç›®å½•

- [1. æ¨¡å—ä½¿ç”¨æŒ‡å—](#1-æ¨¡å—ä½¿ç”¨æŒ‡å—)
- [2. æ•°æ®é…ç½®æŒ‡å—](#2-æ•°æ®é…ç½®æŒ‡å—)
- [3. ä»£ç å¼•ç”¨è§„èŒƒ](#3-ä»£ç å¼•ç”¨è§„èŒƒ)
- [4. å¸¸è§é—®é¢˜ä¸æœ€ä½³å®è·µ](#4-å¸¸è§é—®é¢˜ä¸æœ€ä½³å®è·µ)

---

## 1. æ¨¡å—ä½¿ç”¨æŒ‡å—

### 1.1 å¯ç”¨æ¨¡å—ç±»å‹

é¡¹ç›®æ”¯æŒä»¥ä¸‹ 6 ç§æ ¸å¿ƒæ¨¡å—ï¼š

| æ¨¡å—ç±»å‹ | æšä¸¾å€¼ | åŠŸèƒ½æè¿° | é»˜è®¤ä¼˜å…ˆçº§ |
|---------|--------|----------|-----------|
| **Logoæ¨¡å—** | `pdf.ModuleTypes.logo` | æ˜¾ç¤ºå…¬å¸Logoæˆ–å›¾ç‰‡ | 1 |
| **æ ‡é¢˜æ¨¡å—** | `pdf.ModuleTypes.title` | æ˜¾ç¤ºæ–‡æ¡£æ ‡é¢˜ | 2 |
| **ä¸»è¡¨æ¨¡å—** | `pdf.ModuleTypes.mainTable` | æ˜¾ç¤ºä¸»è¦ä¸šåŠ¡æ•°æ®è¡¨æ ¼ | 3 |
| **å­è¡¨æ¨¡å—** | `pdf.ModuleTypes.subTable` | æ˜¾ç¤ºè¯¦ç»†æ•°æ®åˆ—è¡¨ | 4 |
| **å®¡æ‰¹æ¨¡å—** | `pdf.ModuleTypes.approval` | æ˜¾ç¤ºå®¡æ‰¹è®°å½• | 5 |
| **é¡µè„šæ¨¡å—** | `pdf.ModuleTypes.footer` | æ˜¾ç¤ºé¡µè„šä¿¡æ¯ | 6 |

### 1.2 æ¨¡å—åˆå§‹åŒ–æ­¥éª¤

#### æ­¥éª¤1ï¼šåˆ›å»ºç±»å‹å®‰å…¨é€‚é…å™¨

```dart
import 'package:pdf_export_print/pdf_export_print.dart' as pdf;

// ä½¿ç”¨è‡ªå®šä¹‰é…ç½®åˆå§‹åŒ–é€‚é…å™¨
final adapter = pdf.TypeSafeDataAdapter(config: _createCustomConfig());

// æˆ–ä½¿ç”¨é»˜è®¤é…ç½®ï¼ˆä¸æ¨èï¼Œå­—æ®µæ ‡ç­¾å°†æ˜¾ç¤ºä¸ºåŸå§‹é”®åï¼‰
// final adapter = pdf.TypeSafeDataAdapter();
```

#### æ­¥éª¤2ï¼šåˆ›å»ºPDFé…ç½®

```dart
final config = pdf.PDFConfig.builder()
    .withOrientation(pdf.PageOrientation.portrait)  // é¡µé¢æ–¹å‘
    .pageSize(pdf.PdfPageFormat.a4)                // é¡µé¢å°ºå¯¸
    .margins(const pdf.EdgeInsets.all(20))         // é¡µè¾¹è·
    .build();
```

#### æ­¥éª¤3ï¼šæ„å»ºPDF

```dart
final pdfBuilder = pdf.PDFPrintBuilder()
    .withConfig(config)
    .withDataAdapter(adapter);

// æ ¹æ®é…ç½®æ·»åŠ å¯ç”¨çš„æ¨¡å—
_addModulesBasedOnConfig(pdfBuilder);

// ç”ŸæˆPDFæ–‡æ¡£
final pdfDocument = await pdfBuilder.build(businessData);
```

### 1.3 æ¨¡å—é…ç½®å‚æ•°è¯¦è§£

æ¯ä¸ªæ¨¡å—é€šè¿‡ `pdf.AdapterModuleConfig` è¿›è¡Œé…ç½®ï¼š

```dart
pdf.AdapterModuleConfig(
  moduleType: pdf.ModuleTypes.logo,        // æ¨¡å—ç±»å‹ï¼ˆå¿…éœ€ï¼‰
  enabled: true,                           // æ˜¯å¦å¯ç”¨æ¨¡å—
  priority: 1,                             // æ˜¾ç¤ºä¼˜å…ˆçº§ï¼ˆæ•°å€¼è¶Šå°è¶Šé å‰ï¼‰
  required: false,                         // æ•°æ®éªŒè¯æ—¶æ˜¯å¦å¿…éœ€
  fieldConfigs: [...],                     // å­—æ®µé…ç½®åˆ—è¡¨
  customSettings: {...},                   // è‡ªå®šä¹‰è®¾ç½®
)
```

**å‚æ•°è¯´æ˜ï¼š**

- `enabled`: æ§åˆ¶æ¨¡å—æ˜¯å¦å‚ä¸PDFç”Ÿæˆ
- `priority`: æ§åˆ¶æ¨¡å—åœ¨PDFä¸­çš„æ˜¾ç¤ºé¡ºåºï¼Œæ•°å€¼è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜
- `required`: æ•°æ®éªŒè¯æ—¶æ˜¯å¦å¿…é¡»æä¾›è¯¥æ¨¡å—çš„æ•°æ®
- `fieldConfigs`: å­—æ®µçº§åˆ«çš„é…ç½®ï¼ŒåŒ…æ‹¬åˆ—å®½ç™¾åˆ†æ¯”ã€æ’åºç­‰
- `customSettings`: æ¨¡å—ç‰¹å®šçš„è‡ªå®šä¹‰è®¾ç½®ï¼Œå¦‚åˆ—å®½é…ç½®

---

## 2. æ•°æ®é…ç½®æŒ‡å—

### 2.1 æ•°æ®æ¨¡å‹æ¦‚è¿°

é¡¹ç›®ç°åœ¨ä½¿ç”¨ä¸“ç”¨çš„æ•°æ®æ¨¡å‹ï¼Œæä¾›ç±»å‹å®‰å…¨å’Œç»“æ„åŒ–çš„æ•°æ®è®¿é—®ï¼š

| æ¨¡å—ç±»å‹ | æ•°æ®æ¨¡å‹ | ä¸»è¦å­—æ®µ | ç‰¹æ®ŠåŠŸèƒ½ |
|---------|----------|----------|----------|
| **Logoæ¨¡å—** | `LogoData` | logoUrl, width, height | æ”¯æŒåŠ¨æ€å°ºå¯¸é…ç½® |
| **æ ‡é¢˜æ¨¡å—** | `TitleData` | titles, color, alignment | æ”¯æŒåŠ¨æ€é¢œè‰²å’Œå¯¹é½ |
| **ä¸»è¡¨æ¨¡å—** | `MainTableData` | fields, showBorder, showInnerBorder | ç»Ÿä¸€çš„è¡¨æ ¼æ•°æ®æ¨¡å‹ |
| **é¡µè„šæ¨¡å—** | `MainTableData` | fields, fieldsPerRow, showBorder | ä¸ä¸»è¡¨å…±äº«æ•°æ®æ¨¡å‹ |
| **å­è¡¨æ¨¡å—** | `SubTableData` | headers, rows, title, columnWidths | ç»“æ„åŒ–è¡¨æ ¼æ•°æ® |
| **å®¡æ‰¹æ¨¡å—** | `SubTableData` | headers, rows, title | ä¸å­è¡¨å…±äº«æ•°æ®æ¨¡å‹ |

### 2.2 å­—æ®µæ ‡ç­¾æ˜ å°„é…ç½®

åœ¨ä»æ¥å£è·å–æ•°æ®åï¼Œé¦–å…ˆéœ€è¦é…ç½®å­—æ®µæ ‡ç­¾æ˜ å°„ï¼š

```dart
pdf.DataAdapterConfig _createCustomConfig() {
  // è‡ªå®šä¹‰å­—æ®µæ ‡ç­¾æ˜ å°„
  final customFieldLabels = pdf.FieldLabelConfig.custom({
    // ä¸»è¡¨å­—æ®µ
    'name': 'å‘˜å·¥å§“å',
    'age': 'å¹´é¾„',
    'department': 'æ‰€å±éƒ¨é—¨',
    'position': 'å²—ä½èŒåŠ¡',
    'email': 'é‚®ç®±åœ°å€',
    'phone': 'è”ç³»ç”µè¯',
    'salary': 'è–ªèµ„',
    'description': 'å·¥ä½œæè¿°',
    
    // é¡µè„šå­—æ®µ
    'preparedBy': 'åˆ¶å•äºº',
    'checkedBy': 'å®¡æ ¸äºº',
    'approvedBy': 'æ‰¹å‡†äºº',
    'printDate': 'æ‰“å°æ—¥æœŸ',
    'version': 'ç‰ˆæœ¬å·',
    'pageCount': 'é¡µæ•°',
    
    // å®¡æ‰¹å­—æ®µ
    'nodeName': 'å®¡æ‰¹èŠ‚ç‚¹',
    'approver': 'å®¡æ‰¹äºº',
    'signature': 'ç­¾å',
    'approveTime': 'å®¡æ‰¹æ—¶é—´',
    'opinion': 'å®¡æ‰¹æ„è§',
    
    // å­è¡¨å­—æ®µ
    'projectName': 'é¡¹ç›®åç§°',
    'startDate': 'å¼€å§‹æ—¶é—´',
    'endDate': 'ç»“æŸæ—¶é—´',
    'status': 'é¡¹ç›®çŠ¶æ€',
    'evaluation': 'é¡¹ç›®è¯„ä»·',
    
    // æ¨¡å—æ ‡é¢˜
    'subTable': 'é¡¹ç›®è¯¦æƒ…',
    'approval': 'å®¡æ‰¹è®°å½•',
  });
  
  return pdf.DataAdapterConfig(
    fieldLabelConfig: customFieldLabels,
    moduleConfigs: customModuleConfigs,
    dataKeyMappings: customDataKeyMappings,
  );
}
```

### 2.2 æ•°æ®æ¨¡å‹ä½¿ç”¨ç¤ºä¾‹

#### 2.2.1 TitleData ä½¿ç”¨ç¤ºä¾‹

```dart
// åŸºç¡€æ ‡é¢˜é…ç½®
final titleData = {
  'titles': ['å‘˜å·¥ä¿¡æ¯è¡¨', '2024å¹´åº¦æŠ¥å‘Š'],
};

// é«˜çº§æ ‡é¢˜é…ç½®ï¼ˆæ”¯æŒåŠ¨æ€é¢œè‰²å’Œå¯¹é½ï¼‰
final advancedTitleData = {
  'titles': ['é‡è¦é€šçŸ¥', 'ç´§æ€¥äº‹é¡¹'],
  'color': 'red',           // åŠ¨æ€è®¾ç½®é¢œè‰²
  'alignment': 'center',    // åŠ¨æ€è®¾ç½®å¯¹é½æ–¹å¼
};
```

#### 2.2.2 LogoData ä½¿ç”¨ç¤ºä¾‹

```dart
// åŸºç¡€Logoé…ç½®
final logoData = {
  'logoUrl': 'https://example.com/logo.png',
};

// é«˜çº§Logoé…ç½®ï¼ˆæ”¯æŒåŠ¨æ€å°ºå¯¸ï¼‰
final advancedLogoData = {
  'logoUrl': 'https://example.com/logo.png',
  'width': pw.LogoConstants.largeWidth,    // ä½¿ç”¨å¸¸é‡
  'height': pw.LogoConstants.largeHeight,  // ä½¿ç”¨å¸¸é‡
};
```

#### 2.2.3 MainTableData ä½¿ç”¨ç¤ºä¾‹

```dart
// ä¸»è¡¨æ•°æ®ï¼ˆè‡ªåŠ¨ä½¿ç”¨ MainTableData.forMainTableï¼‰
final mainTableData = {
  'name': 'å¼ ä¸‰',
  'department': 'æŠ€æœ¯éƒ¨',
  'position': 'é«˜çº§å·¥ç¨‹å¸ˆ',
  'email': 'zhangsan@example.com',
};

// é¡µè„šæ•°æ®ï¼ˆè‡ªåŠ¨ä½¿ç”¨ MainTableData.forFooterï¼‰
final footerData = {
  'preparedBy': 'å¼ ä¸‰',
  'checkedBy': 'æå››',
  'approvedBy': 'ç‹äº”',
  'printDate': '2024-01-15',
};
```

#### 2.2.4 SubTableData ä½¿ç”¨ç¤ºä¾‹

```dart
// å­è¡¨æ•°æ®ï¼ˆè‡ªåŠ¨è½¬æ¢ä¸º SubTableDataï¼‰
final subTableData = [
  {
    'projectName': 'é¡¹ç›®A',
    'status': 'è¿›è¡Œä¸­',
    'startDate': '2024-01-01',
    'endDate': '2024-06-30',
  },
  {
    'projectName': 'é¡¹ç›®B',
    'status': 'å·²å®Œæˆ',
    'startDate': '2023-07-01',
    'endDate': '2023-12-31',
  },
];
```

### 2.3 æ¨¡å—æ˜¾ç¤ºæ§åˆ¶é…ç½®

é€šè¿‡ `enabled` å‚æ•°æ§åˆ¶æ¨¡å—çš„æ˜¾ç¤º/éšè—ï¼š

```dart
final customModuleConfigs = <pdf.ModuleTypes, pdf.AdapterModuleConfig>{
  // å¯ç”¨Logoæ¨¡å—
  pdf.ModuleTypes.logo: const pdf.AdapterModuleConfig(
    moduleType: pdf.ModuleTypes.logo,
    enabled: true,                    // æ˜¾ç¤ºLogo
    priority: 1,
    required: false,
  ),
  
  // ç¦ç”¨å­è¡¨æ¨¡å—
  pdf.ModuleTypes.subTable: const pdf.AdapterModuleConfig(
    moduleType: pdf.ModuleTypes.subTable,
    enabled: false,                   // éšè—å­è¡¨
    priority: 4,
    required: false,
  ),
  
  // æ¡ä»¶æ€§å¯ç”¨å®¡æ‰¹æ¨¡å—
  pdf.ModuleTypes.approval: pdf.AdapterModuleConfig(
    moduleType: pdf.ModuleTypes.approval,
    enabled: hasApprovalData,         // æ ¹æ®æ•°æ®åŠ¨æ€æ§åˆ¶
    priority: 5,
    required: false,
  ),
};
```

### 2.3 åˆ—å®½ç™¾åˆ†æ¯”é…ç½®

#### 2.3.1 å­è¡¨æ¨¡å—åˆ—å®½é…ç½®

```dart
pdf.ModuleTypes.subTable: const pdf.AdapterModuleConfig(
  moduleType: pdf.ModuleTypes.subTable,
  enabled: true,
  priority: 4,
  required: false,
  customSettings: {
    'columnWidths': {
      'projectName': 0.4,    // é¡¹ç›®åç§°åˆ—å 40%
      'status': 0.2,         // çŠ¶æ€åˆ—å 20%
      'startDate': 0.2,      // å¼€å§‹æ—¶é—´åˆ—å 20%
      // å…¶ä»–åˆ—è‡ªåŠ¨åˆ†é…å‰©ä½™20%
    },
  },
),
```

#### 2.3.2 å®¡æ‰¹æ¨¡å—åˆ—å®½é…ç½®

```dart
pdf.ModuleTypes.approval: const pdf.AdapterModuleConfig(
  moduleType: pdf.ModuleTypes.approval,
  enabled: true,
  priority: 5,
  required: false,
  customSettings: {
    'columnWidths': {
      'nodeName': 0.25,      // èŠ‚ç‚¹åç§°åˆ—å 25%
      'approver': 0.20,      // å®¡æ‰¹äººåˆ—å 20%
      'approveTime': 0.25,   // å®¡æ‰¹æ—¶é—´åˆ—å 25%
      // å…¶ä»–åˆ—ï¼ˆç­¾åã€æ„è§ç­‰ï¼‰è‡ªåŠ¨åˆ†é…å‰©ä½™30%
    },
  },
),
```

**åˆ—å®½é…ç½®è§„åˆ™ï¼š**
- ä½¿ç”¨å°æ•°è¡¨ç¤ºç™¾åˆ†æ¯”ï¼ˆ0.4 = 40%ï¼‰
- é…ç½®çš„åˆ—å®½æ€»å’Œåº” â‰¤ 1.0
- æœªé…ç½®çš„åˆ—å°†å¹³å‡åˆ†é…å‰©ä½™å®½åº¦
- å¦‚æœæ€»å’Œè¶…è¿‡1.0ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è°ƒæ•´

### 2.4 å­è¡¨åˆ—æ’åºé…ç½®

å­è¡¨æ¨¡å—æ”¯æŒé€šè¿‡å­—æ®µæ’åºæƒé‡æ¥æ§åˆ¶åˆ—çš„æ˜¾ç¤ºé¡ºåºï¼Œè¿™å¯¹äºåŠ¨æ€è°ƒæ•´è¡¨æ ¼å¸ƒå±€éå¸¸æœ‰ç”¨ã€‚

#### 2.4.1 æ’åºæƒé‡é…ç½®

```dart
// åœ¨é€‚é…å™¨ä¸­é…ç½®å­—æ®µæ’åºæƒé‡
final adapter = pdf.TypeSafeDataAdapter(config: adapterConfig);

// åˆ›å»ºå­è¡¨æ•°æ®æ—¶è®¾ç½®æ’åºæƒé‡
final subTableData = adapter.createSubTableData(
  headers: ['projectName', 'status', 'startDate', 'endDate', 'evaluation'],
  rows: projectRows,
  moduleType: 'sub_table',
  includeHeaderSorts: true,  // å¯ç”¨å­—æ®µæ’åº
);
```

#### 2.4.2 å­—æ®µé…ç½®ä¸­çš„æ’åº

é€šè¿‡ `FieldConfig` çš„ `sort` å‚æ•°æ§åˆ¶å­—æ®µæ’åºï¼š

```dart
pdf.ModuleTypes.subTable: const pdf.AdapterModuleConfig(
  moduleType: pdf.ModuleTypes.subTable,
  enabled: true,
  priority: 4,
  fieldConfigs: [
    pdf.FieldConfig(
      fieldKey: 'projectName',
      sort: 5,  // æœ€é«˜ä¼˜å…ˆçº§ï¼Œæ˜¾ç¤ºåœ¨æœ€å‰é¢
    ),
    pdf.FieldConfig(
      fieldKey: 'status',
      sort: 3,  // ä¸­ç­‰ä¼˜å…ˆçº§
    ),
    pdf.FieldConfig(
      fieldKey: 'startDate',
      sort: 2,  // è¾ƒä½ä¼˜å…ˆçº§
    ),
    pdf.FieldConfig(
      fieldKey: 'endDate',
      sort: 1,  // æœ€ä½ä¼˜å…ˆçº§ï¼Œæ˜¾ç¤ºåœ¨æœ€åé¢
    ),
    // æœªé…ç½®çš„å­—æ®µä½¿ç”¨é»˜è®¤æ’åºæƒé‡ 0
  ],
),
```

#### 2.4.3 æ’åºè§„åˆ™è¯´æ˜

**æ’åºæƒé‡è§„åˆ™ï¼š**
- æ•°å€¼è¶Šå¤§ï¼Œä¼˜å…ˆçº§è¶Šé«˜ï¼Œæ˜¾ç¤ºè¶Šé å‰
- ç›¸åŒæƒé‡çš„å­—æ®µä¿æŒåŸå§‹é¡ºåº
- æœªé…ç½®æ’åºæƒé‡çš„å­—æ®µé»˜è®¤ä¸º 0
- æ”¯æŒè´Ÿæ•°æƒé‡ï¼Œç”¨äºå¼ºåˆ¶åç½®æ˜¾ç¤º

**å®é™…åº”ç”¨ç¤ºä¾‹ï¼š**

```dart
// ä¸šåŠ¡åœºæ™¯ï¼šé¡¹ç›®ç®¡ç†è¡¨æ ¼
// å¸Œæœ›æŒ‰é‡è¦æ€§æ’åºï¼šé¡¹ç›®åç§° > çŠ¶æ€ > æ—¶é—´ä¿¡æ¯ > å…¶ä»–
final fieldConfigs = [
  pdf.FieldConfig(fieldKey: 'projectName', sort: 10),  // æœ€é‡è¦
  pdf.FieldConfig(fieldKey: 'status', sort: 8),        // æ¬¡é‡è¦
  pdf.FieldConfig(fieldKey: 'startDate', sort: 5),     // ä¸­ç­‰é‡è¦
  pdf.FieldConfig(fieldKey: 'endDate', sort: 4),       // ä¸­ç­‰é‡è¦
  pdf.FieldConfig(fieldKey: 'evaluation', sort: 2),    // è¾ƒä½é‡è¦
  pdf.FieldConfig(fieldKey: 'remark', sort: -1),       // æœ€åæ˜¾ç¤º
];
```

#### 2.4.4 åŠ¨æ€æ’åºé…ç½®

```dart
// æ ¹æ®ç”¨æˆ·åå¥½åŠ¨æ€é…ç½®æ’åº
Map<String, int> getUserPreferredSort() {
  return {
    'projectName': 10,
    'status': 8,
    'priority': 6,
    'startDate': 4,
    'endDate': 2,
  };
}

// åº”ç”¨åˆ°å­—æ®µé…ç½®
final userSorts = getUserPreferredSort();
final fieldConfigs = userSorts.entries.map((entry) {
  return pdf.FieldConfig(
    fieldKey: entry.key,
    sort: entry.value,
  );
}).toList();
```

### 2.5 å­—æ®µé…ç½®è¯¦è§£

#### 2.5.1 ä¸»è¡¨å­—æ®µé…ç½®

```dart
pdf.ModuleTypes.mainTable: const pdf.AdapterModuleConfig(
  moduleType: pdf.ModuleTypes.mainTable,
  enabled: true,
  priority: 3,
  required: false,
  fieldConfigs: [
    pdf.FieldConfig(
      fieldKey: 'description',    // å­—æ®µé”®å
      widthPercent: 1.0,          // åˆ—å®½ç™¾åˆ†æ¯”ï¼ˆ100%å…¨å®½ï¼‰
      sort: 2,                    // æ’åºæƒé‡ï¼ˆæ•°å€¼è¶Šå¤§è¶Šé å‰ï¼‰
    ),
    pdf.FieldConfig(
      fieldKey: 'name',
      widthPercent: 0.33,         // åˆ—å®½ç™¾åˆ†æ¯”ï¼ˆ33%ï¼‰
      sort: 3,
    ),
    pdf.FieldConfig(
      fieldKey: 'department',
      widthPercent: 0.33,         // åˆ—å®½ç™¾åˆ†æ¯”ï¼ˆ33%ï¼‰
      sort: 1,
    ),
  ],
),
```

#### 2.5.2 é¡µè„šå­—æ®µé…ç½®

```dart
pdf.ModuleTypes.footer: const pdf.AdapterModuleConfig(
  moduleType: pdf.ModuleTypes.footer,
  enabled: true,
  priority: 6,
  required: false,
  fieldConfigs: [
    pdf.FieldConfig(
      fieldKey: 'totalAmount',
      widthPercent: 0.67,         // æ€»é‡‘é¢å 67%å®½åº¦
      sort: 1,
    ),
    pdf.FieldConfig(
      fieldKey: 'createDate',
      widthPercent: 0.33,         // åˆ›å»ºæ—¥æœŸå 33%å®½åº¦
      sort: 2,
    ),
  ],
),
```

**å­—æ®µé…ç½®å‚æ•°è¯´æ˜ï¼š**
- `fieldKey`: å¯¹åº”æ•°æ®ä¸­çš„å­—æ®µé”®å
- `widthPercent`: åˆ—å®½ç™¾åˆ†æ¯”ï¼Œ0.0-1.0ï¼ˆå¦‚0.33è¡¨ç¤º33%ï¼‰
- `sort`: æ’åºæƒé‡ï¼Œæ•°å€¼è¶Šå¤§æ˜¾ç¤ºè¶Šé å‰
- `required`: è¯¥å­—æ®µæ˜¯å¦å¿…éœ€ï¼ˆé»˜è®¤falseï¼‰

### 2.6 æ•°æ®æºé…ç½®

#### 2.6.1 æ•°æ®é”®æ˜ å°„

```dart
final customDataKeyMappings = <pdf.DataKeys, pdf.ModuleTypes>{
  pdf.DataKeys.logoUrl: pdf.ModuleTypes.logo,
  pdf.DataKeys.titles: pdf.ModuleTypes.title,
  pdf.DataKeys.mainData: pdf.ModuleTypes.mainTable,
  pdf.DataKeys.details: pdf.ModuleTypes.subTable,
  pdf.DataKeys.approvals: pdf.ModuleTypes.approval,
  pdf.DataKeys.footerData: pdf.ModuleTypes.footer,
};
```

#### 2.6.2 ä¸šåŠ¡æ•°æ®ç»“æ„

```dart
Map<String, dynamic> createBusinessData() {
  return {
    // ä½¿ç”¨DataKeysæšä¸¾ç¡®ä¿ç±»å‹å®‰å…¨
    pdf.DataKeys.titles.value: ['å‘˜å·¥ä¿¡æ¯è¡¨', 'äººäº‹æ¡£æ¡ˆ'],
    
    pdf.DataKeys.logoUrl.value: 'https://example.com/logo.png',
    
    pdf.DataKeys.mainData.value: {
      'name': 'å¼ ä¸‰',
      'age': 28,
      'department': 'æŠ€æœ¯éƒ¨',
      'position': 'é«˜çº§å·¥ç¨‹å¸ˆ',
      'email': 'zhangsan@example.com',
      'phone': '13800138000',
      'salary': 15000,
      'description': 'è´Ÿè´£æ ¸å¿ƒä¸šåŠ¡ç³»ç»Ÿå¼€å‘å’Œç»´æŠ¤',
    },
    
    pdf.DataKeys.details.value: [
      {
        'projectName': 'PDFå¯¼å‡ºç³»ç»Ÿ',
        'startDate': '2024-01-01',
        'endDate': '2024-03-31',
        'status': 'å·²å®Œæˆ',
        'evaluation': 'ä¼˜ç§€',
      },
      // æ›´å¤šå­è¡¨æ•°æ®...
    ],
    
    pdf.DataKeys.approvals.value: [
      {
        'nodeName': 'ç”³è¯·',
        'approver': 'æå››',
        'signature': 'æå››',
        'approveTime': '2024-01-15 09:30:00',
        'opinion': 'ç”³è¯·æäº¤',
      },
      // æ›´å¤šå®¡æ‰¹è®°å½•...
    ],
    
    pdf.DataKeys.footerData.value: {
      'preparedBy': 'å¼ ä¸‰',
      'checkedBy': 'æå››',
      'approvedBy': 'ç‹äº”',
      'printDate': '2024-01-16',
      'version': 'v2.0',
      'pageCount': '1/1',
    },
  };
}
```

---

## 3. å¸¸é‡ç®¡ç†æŒ‡å—

### 3.1 å¯ç”¨å¸¸é‡ç±»

é¡¹ç›®æä¾›äº†ç»Ÿä¸€çš„å¸¸é‡ç®¡ç†ï¼Œé¿å…ç¡¬ç¼–ç æ•°å€¼ï¼š

| å¸¸é‡ç±» | ç”¨é€” | ä¸»è¦å¸¸é‡ |
|--------|------|----------|
| `pw.LogoConstants` | Logoæ¨¡å— | defaultWidth, defaultHeight, smallWidth, largeWidth |
| `pw.TitleConstants` | æ ‡é¢˜æ¨¡å— | defaultColor, defaultAlignment, defaultSpacing |
| `pw.TableConstants` | è¡¨æ ¼æ¨¡å— | defaultCellPadding, defaultHeaderHeight, defaultRowHeight |
| `pw.LayoutConstants` | å¸ƒå±€é€šç”¨ | defaultMargin, defaultFontSize, titleFontSize |

### 3.2 å¸¸é‡ä½¿ç”¨ç¤ºä¾‹

#### 3.2.1 Logoå¸¸é‡ä½¿ç”¨

```dart
// ä½¿ç”¨Logoå¸¸é‡
final logoData = {
  'logoUrl': 'https://example.com/logo.png',
  'width': pw.LogoConstants.defaultWidth,    // 120.0
  'height': pw.LogoConstants.defaultHeight,  // 60.0
};

// ä¸åŒå°ºå¯¸çš„Logo
final smallLogo = {
  'logoUrl': 'https://example.com/small-logo.png',
  'width': pw.LogoConstants.smallWidth,      // 50.0
  'height': pw.LogoConstants.smallHeight,    // 50.0
};

final largeLogo = {
  'logoUrl': 'https://example.com/large-logo.png',
  'width': pw.LogoConstants.largeWidth,      // 150.0
  'height': pw.LogoConstants.largeHeight,    // 75.0
};
```

#### 3.2.2 è¡¨æ ¼å¸¸é‡ä½¿ç”¨

```dart
// åœ¨é…ç½®ä¸­ä½¿ç”¨è¡¨æ ¼å¸¸é‡
pdf.ModuleTypes.subTable: const pdf.AdapterModuleConfig(
  moduleType: pdf.ModuleTypes.subTable,
  enabled: true,
  priority: 4,
  customSettings: {
    'cellPadding': pw.TableConstants.defaultCellPadding,      // 4.0
    'headerHeight': pw.TableConstants.defaultHeaderHeight,    // 25.0
    'rowHeight': pw.TableConstants.defaultRowHeight,          // 20.0
    'reservedHeight': pw.TableConstants.defaultReservedHeight, // 100.0
  },
),
```

#### 3.2.3 å¸ƒå±€å¸¸é‡ä½¿ç”¨

```dart
// åœ¨PDFé…ç½®ä¸­ä½¿ç”¨å¸ƒå±€å¸¸é‡
final config = pdf.PDFConfig.builder()
    .withOrientation(pdf.PageOrientation.portrait)
    .pageSize(pdf.PdfPageFormat.a4)
    .margins(pdf.EdgeInsets.all(pw.LayoutConstants.defaultMargin))  // 16.0
    .build();
```

### 3.3 å¸¸é‡çš„ä¼˜åŠ¿

- **ä¸€è‡´æ€§**ï¼šæ‰€æœ‰æ¨¡å—ä½¿ç”¨ç›¸åŒçš„é»˜è®¤å€¼
- **å¯ç»´æŠ¤æ€§**ï¼šä¿®æ”¹å¸¸é‡å€¼å³å¯å…¨å±€æ›´æ–°
- **ç±»å‹å®‰å…¨**ï¼šç¼–è¯‘æ—¶æ£€æŸ¥ï¼Œé¿å…é”™è¯¯
- **å¯è¯»æ€§**ï¼šè¯­ä¹‰åŒ–çš„å¸¸é‡åç§°ï¼Œä»£ç æ›´æ˜“ç†è§£

---

## 4. ä»£ç å¼•ç”¨è§„èŒƒ

### 3.1 å¯¼å…¥è§„èŒƒ

**âœ… æ­£ç¡®çš„å¯¼å…¥æ–¹å¼ï¼š**

```dart
import 'package:pdf_export_print/pdf_export_print.dart' as pdf;
```

**âŒ é”™è¯¯çš„å¯¼å…¥æ–¹å¼ï¼š**

```dart
// ä¸è¦æ·»åŠ é¢å¤–çš„PDFåŒ…å¯¼å…¥
import 'package:pdf/pdf.dart';
import 'package:pdf/widgets.dart' as pw;
```

### 3.2 ä½¿ç”¨è§„èŒƒ

**âœ… æ­£ç¡®çš„ä½¿ç”¨æ–¹å¼ï¼š**

```dart
// ä½¿ç”¨pdfå‰ç¼€è®¿é—®æ‰€æœ‰ç»„ä»¶
final adapter = pdf.TypeSafeDataAdapter(config: config);
final pdfBuilder = pdf.PDFPrintBuilder();
final moduleConfig = pdf.AdapterModuleConfig(...);
final dataKeys = pdf.DataKeys.titles.value;
```

**âŒ é”™è¯¯çš„ä½¿ç”¨æ–¹å¼ï¼š**

```dart
// ä¸è¦ç›´æ¥ä½¿ç”¨ç±»å
final adapter = TypeSafeDataAdapter(config: config);
final pdfBuilder = PDFPrintBuilder();
```

### 3.3 æšä¸¾ä½¿ç”¨è§„èŒƒ

**âœ… æ¨èçš„æšä¸¾ä½¿ç”¨ï¼š**

```dart
// ä½¿ç”¨æšä¸¾å€¼ç¡®ä¿ç±»å‹å®‰å…¨
final moduleType = pdf.ModuleTypes.logo;
final dataKey = pdf.DataKeys.titles.value;

// åœ¨æ•°æ®ä¸­ä½¿ç”¨æšä¸¾å€¼
final data = {
  pdf.DataKeys.titles.value: ['æ ‡é¢˜1', 'æ ‡é¢˜2'],
  pdf.DataKeys.mainData.value: {...},
};
```

**âŒ ä¸æ¨èçš„ç¡¬ç¼–ç ï¼š**

```dart
// é¿å…ç¡¬ç¼–ç å­—ç¬¦ä¸²
final data = {
  'titles': ['æ ‡é¢˜1', 'æ ‡é¢˜2'],  // å®¹æ˜“å‡ºé”™
  'mainData': {...},
};
```

---

## 5. æ¶æ„è¯´æ˜

### 5.1 ç®€åŒ–åçš„æ¶æ„

é¡¹ç›®é‡‡ç”¨äº†ç®€åŒ–çš„æ•°æ®å¤„ç†æ¶æ„ï¼Œæä¾›æ›´å¥½çš„ç±»å‹å®‰å…¨å’Œæ€§èƒ½ï¼š

```
åŸå§‹æ•°æ® â†’ TypeSafeDataAdapter â†’ ä¸“ç”¨æ•°æ®æ¨¡å‹ â†’ æ¨¡å—æ¸²æŸ“
   â†“              â†“                    â†“           â†“
æ¥å£æ•°æ®      æ•°æ®è½¬æ¢å’ŒéªŒè¯        TitleData     TitleModule
Mapæ ¼å¼      å…¼å®¹æ€§å¤„ç†           LogoData      LogoModule
           ç±»å‹å®‰å…¨ä¿è¯         MainTableData  MainTableModule
                              SubTableData   SubTableModule
```

### 5.2 æ¨¡å—èŒè´£åˆ†ç¦»

| ç»„ä»¶ | èŒè´£ | ç‰¹ç‚¹ |
|------|------|------|
| **TypeSafeDataAdapter** | æ•°æ®è½¬æ¢å’Œå…¼å®¹æ€§å¤„ç† | ç»Ÿä¸€çš„æ•°æ®å…¥å£ï¼Œç±»å‹è½¬æ¢ |
| **ä¸“ç”¨æ•°æ®æ¨¡å‹** | ç»“æ„åŒ–æ•°æ®å­˜å‚¨ | ç±»å‹å®‰å…¨ï¼Œå­—æ®µæ˜ç¡® |
| **PDFæ¨¡å—** | ä¸“æ³¨æ¸²æŸ“é€»è¾‘ | ç®€æ´çš„å®ç°ï¼Œç›´æ¥ä½¿ç”¨æ•°æ®æ¨¡å‹ |

### 5.3 ç±»å‹å®‰å…¨ä¿è¯

```dart
// æ¨¡å—å†…éƒ¨ç›´æ¥ä½¿ç”¨ä¸“ç”¨æ•°æ®æ¨¡å‹
@override
Future<List<pw.Widget>> render(ModuleData data, PDFContext context) async {
  // ç›´æ¥ç±»å‹è½¬æ¢ï¼Œé€‚é…å™¨ä¿è¯ç±»å‹æ­£ç¡®
  final titleData = data as TitleData;

  // ç±»å‹å®‰å…¨çš„å±æ€§è®¿é—®
  if (titleData.titles.isEmpty) return [];

  // ç›´æ¥ä½¿ç”¨ç»“æ„åŒ–æ•°æ®
  for (final title in titleData.titles) {
    // æ¸²æŸ“é€»è¾‘...
  }
}
```

### 5.4 é…ç½®ä¼˜å…ˆçº§

æ•°æ®é…ç½®éµå¾ªä»¥ä¸‹ä¼˜å…ˆçº§è§„åˆ™ï¼š

1. **æ•°æ®æ¨¡å‹å­—æ®µ** > æ¨¡å—é…ç½® > ä¸»é¢˜é»˜è®¤å€¼
2. **FieldConfigé…ç½®** > customSettingsé…ç½®
3. **ç”¨æˆ·ä¼ å…¥æ•°æ®** > é€‚é…å™¨é»˜è®¤å€¼

```dart
// ç¤ºä¾‹ï¼šæ ‡é¢˜é¢œè‰²çš„ä¼˜å…ˆçº§
final color = titleData.color ??           // 1. æ•°æ®ä¸­çš„é¢œè‰²
              _config.color ??              // 2. é…ç½®ä¸­çš„é¢œè‰²
              context.theme.titleColor;     // 3. ä¸»é¢˜é»˜è®¤é¢œè‰²
```

### 5.5 æ€§èƒ½ä¼˜åŒ–

- **ç¼–è¯‘æ—¶ç±»å‹æ£€æŸ¥**ï¼šå‡å°‘è¿è¡Œæ—¶é”™è¯¯
- **ç›´æ¥æ•°æ®è®¿é—®**ï¼šé¿å…åŠ¨æ€æŸ¥æ‰¾å’Œè½¬æ¢
- **å¸¸é‡ç®¡ç†**ï¼šå‡å°‘é‡å¤è®¡ç®—å’Œå†…å­˜å ç”¨
- **ä¸“ç”¨æ•°æ®æ¨¡å‹**ï¼šä¼˜åŒ–å†…å­˜å¸ƒå±€å’Œè®¿é—®é€Ÿåº¦

---

## 6. å¸¸è§é—®é¢˜ä¸æœ€ä½³å®è·µ

### 4.1 å¸¸è§é—®é¢˜

#### Q1: å­—æ®µæ ‡ç­¾æ˜¾ç¤ºä¸ºåŸå§‹é”®åï¼Ÿ
**A:** éœ€è¦åœ¨ `FieldLabelConfig.custom()` ä¸­é…ç½®å­—æ®µæ˜ å°„ï¼š

```dart
final fieldLabels = pdf.FieldLabelConfig.custom({
  'name': 'å‘˜å·¥å§“å',  // å°†'name'æ˜ å°„ä¸º'å‘˜å·¥å§“å'
  'department': 'æ‰€å±éƒ¨é—¨',
});
```

#### Q2: æ¨¡å—ä¸æ˜¾ç¤ºï¼Ÿ
**A:** æ£€æŸ¥ä»¥ä¸‹é…ç½®ï¼š
1. `enabled: true` - æ¨¡å—æ˜¯å¦å¯ç”¨
2. æ•°æ®æ˜¯å¦æ­£ç¡®æä¾›
3. `dataKeyMappings` æ˜¯å¦æ­£ç¡®é…ç½®

#### Q3: åˆ—å®½é…ç½®ä¸ç”Ÿæ•ˆï¼Ÿ
**A:** ç¡®ä¿ï¼š
1. é…ç½®åœ¨ `customSettings` çš„ `columnWidths` ä¸­
2. å­—æ®µåä¸æ•°æ®ä¸­çš„é”®åä¸€è‡´
3. ç™¾åˆ†æ¯”æ€»å’Œä¸è¶…è¿‡1.0

#### Q4: æ•°æ®éªŒè¯å¤±è´¥ï¼Ÿ
**A:** æ£€æŸ¥ï¼š
1. å¿…éœ€æ¨¡å—çš„ `required: true` æ˜¯å¦æœ‰å¯¹åº”æ•°æ®
2. æ•°æ®é”®åæ˜¯å¦ä½¿ç”¨ `pdf.DataKeys.xxx.value`
3. æ•°æ®ç»“æ„æ˜¯å¦ç¬¦åˆé¢„æœŸæ ¼å¼

### 6.2 æœ€ä½³å®è·µ

#### 6.2.1 æ•°æ®æ¨¡å‹ä½¿ç”¨å»ºè®®

**âœ… æ¨èåšæ³•ï¼š**

```dart
// ä½¿ç”¨ç»“æ„åŒ–æ•°æ®é…ç½®
final titleData = {
  'titles': ['ä¸»æ ‡é¢˜', 'å‰¯æ ‡é¢˜'],
  'color': 'blue',
  'alignment': 'center',
};

// ä½¿ç”¨å¸¸é‡æ›¿ä»£ç¡¬ç¼–ç 
final logoData = {
  'logoUrl': 'https://example.com/logo.png',
  'width': pw.LogoConstants.defaultWidth,
  'height': pw.LogoConstants.defaultHeight,
};
```

**âŒ é¿å…åšæ³•ï¼š**

```dart
// é¿å…ç¡¬ç¼–ç æ•°å€¼
final logoData = {
  'logoUrl': 'https://example.com/logo.png',
  'width': 120.0,  // åº”ä½¿ç”¨å¸¸é‡
  'height': 60.0,  // åº”ä½¿ç”¨å¸¸é‡
};

// é¿å…ä¸å®Œæ•´çš„é…ç½®
final titleData = ['æ ‡é¢˜'];  // åº”ä½¿ç”¨Mapæ ¼å¼æ”¯æŒæ›´å¤šé…ç½®
```

#### 6.2.2 é…ç½®ä¼˜å…ˆçº§ç®¡ç†

```dart
// åˆ©ç”¨é…ç½®ä¼˜å…ˆçº§å®ç°çµæ´»æ§åˆ¶
final titleData = {
  'titles': ['é‡è¦é€šçŸ¥'],
  'color': 'red',        // æ•°æ®çº§åˆ«çš„é¢œè‰²è®¾ç½®
  'alignment': 'center', // æ•°æ®çº§åˆ«çš„å¯¹é½è®¾ç½®
};

// é…ç½®çº§åˆ«çš„é»˜è®¤è®¾ç½®
pdf.ModuleTypes.title: const pdf.AdapterModuleConfig(
  moduleType: pdf.ModuleTypes.title,
  enabled: true,
  priority: 2,
  customSettings: {
    'color': 'blue',      // é…ç½®çº§åˆ«çš„é»˜è®¤é¢œè‰²
    'fontSize': 18.0,     // é…ç½®çº§åˆ«çš„å­—ä½“å¤§å°
  },
),
```

#### 6.2.3 é…ç½®ç®¡ç†

```dart
class PDFConfigManager {
  static pdf.DataAdapterConfig createConfig({
    required Map<String, String> fieldLabels,
    required Map<pdf.ModuleTypes, bool> moduleVisibility,
    Map<String, Map<String, double>>? columnWidths,
  }) {
    final moduleConfigs = <pdf.ModuleTypes, pdf.AdapterModuleConfig>{};
    
    for (final moduleType in pdf.ModuleTypes.values) {
      final isEnabled = moduleVisibility[moduleType] ?? true;
      final settings = <String, dynamic>{};
      
      // æ·»åŠ åˆ—å®½é…ç½®
      if (columnWidths?.containsKey(moduleType.value) == true) {
        settings['columnWidths'] = columnWidths![moduleType.value];
      }
      
      moduleConfigs[moduleType] = pdf.AdapterModuleConfig(
        moduleType: moduleType,
        enabled: isEnabled,
        priority: _getDefaultPriority(moduleType),
        customSettings: settings,
      );
    }
    
    return pdf.DataAdapterConfig(
      fieldLabelConfig: pdf.FieldLabelConfig.custom(fieldLabels),
      moduleConfigs: moduleConfigs,
      dataKeyMappings: pdf.DataAdapterConfig.defaultConfig().dataKeyMappings,
    );
  }
  
  static int _getDefaultPriority(pdf.ModuleTypes moduleType) {
    switch (moduleType) {
      case pdf.ModuleTypes.logo: return 1;
      case pdf.ModuleTypes.title: return 2;
      case pdf.ModuleTypes.mainTable: return 3;
      case pdf.ModuleTypes.subTable: return 4;
      case pdf.ModuleTypes.approval: return 5;
      case pdf.ModuleTypes.footer: return 6;
    }
  }
}
```

#### 4.2.2 æ•°æ®éªŒè¯

```dart
bool validateBusinessData(Map<String, dynamic> data) {
  // æ£€æŸ¥å¿…éœ€çš„æ•°æ®é”®
  final requiredKeys = [
    pdf.DataKeys.titles.value,
    pdf.DataKeys.mainData.value,
  ];
  
  for (final key in requiredKeys) {
    if (!data.containsKey(key) || data[key] == null) {
      print('ç¼ºå°‘å¿…éœ€æ•°æ®: $key');
      return false;
    }
  }
  
  // æ£€æŸ¥æ•°æ®ç±»å‹
  if (data[pdf.DataKeys.titles.value] is! List) {
    print('titlesæ•°æ®ç±»å‹é”™è¯¯ï¼Œåº”ä¸ºList');
    return false;
  }
  
  if (data[pdf.DataKeys.mainData.value] is! Map) {
    print('mainDataæ•°æ®ç±»å‹é”™è¯¯ï¼Œåº”ä¸ºMap');
    return false;
  }
  
  return true;
}
```

#### 4.2.3 é”™è¯¯å¤„ç†

```dart
Future<void> generatePDFSafely(Map<String, dynamic> data) async {
  try {
    // æ•°æ®éªŒè¯
    if (!validateBusinessData(data)) {
      throw Exception('ä¸šåŠ¡æ•°æ®éªŒè¯å¤±è´¥');
    }
    
    // é€‚é…å™¨éªŒè¯
    if (!adapter.validateData(data)) {
      throw Exception('é€‚é…å™¨æ•°æ®éªŒè¯å¤±è´¥');
    }
    
    // ç”ŸæˆPDF
    final pdfDocument = await pdfBuilder.build(data);
    
    // å¤„ç†æˆåŠŸç»“æœ
    await showPDFPreview(pdfDocument);
    
  } catch (e) {
    // é”™è¯¯å¤„ç†
    print('PDFç”Ÿæˆå¤±è´¥: $e');
    showErrorDialog('PDFç”Ÿæˆå¤±è´¥ï¼š${e.toString()}');
  }
}
```

### 4.3 æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **é…ç½®ç¼“å­˜**: å°†é€‚é…å™¨é…ç½®ç¼“å­˜ï¼Œé¿å…é‡å¤åˆ›å»º
2. **æ•°æ®é¢„å¤„ç†**: åœ¨UIçº¿ç¨‹å¤–é¢„å¤„ç†æ•°æ®
3. **æ¨¡å—æŒ‰éœ€åŠ è½½**: æ ¹æ®ä¸šåŠ¡éœ€è¦åŠ¨æ€å¯ç”¨æ¨¡å—
4. **å†…å­˜ç®¡ç†**: åŠæ—¶é‡Šæ”¾å¤§å‹PDFæ–‡æ¡£å¯¹è±¡

### 4.4 è°ƒè¯•æŠ€å·§

1. **å¯ç”¨è¯¦ç»†æ—¥å¿—**: åœ¨å¼€å‘ç¯å¢ƒå¯ç”¨è¯¦ç»†çš„è°ƒè¯•ä¿¡æ¯
2. **æ•°æ®æ£€æŸ¥**: ä½¿ç”¨ `adapter.validateData()` éªŒè¯æ•°æ®
3. **æ¨¡å—æ£€æŸ¥**: ä½¿ç”¨ `adapter.getSupportedModules()` æŸ¥çœ‹æ”¯æŒçš„æ¨¡å—
4. **é…ç½®æ£€æŸ¥**: æ‰“å°é…ç½®ä¿¡æ¯ç¡®è®¤è®¾ç½®æ­£ç¡®

### 4.5 æ°´å°é…ç½®

#### 4.5.1 æ–‡æœ¬æ°´å°é…ç½®

```dart
final pdfConfig = pdf.PDFConfig.builder()
    .withOrientation(pdf.PageOrientation.portrait)
    .watermark(pdf.WatermarkConfig.textWatermark(
      enabled: true,
      content: 'æœºå¯†æ–‡ä»¶',              // æ°´å°æ–‡æœ¬
      position: pdf.WatermarkPosition.center,  // æ°´å°ä½ç½®
      mode: pdf.WatermarkMode.background,      // æ°´å°æ¨¡å¼
      opacity: 0.3,                           // é€æ˜åº¦(0.0-1.0)
      rotation: 0.785,                        // æ—‹è½¬è§’åº¦(å¼§åº¦)
      fontSize: 48.0,                         // å­—ä½“å¤§å°
      textColor: pdf.PdfColors.grey,          // æ–‡æœ¬é¢œè‰²
      fontWeight: pdf.FontWeight.bold,        // å­—ä½“æƒé‡
    ))
    .build();
```

#### 4.5.2 å›¾ç‰‡æ°´å°é…ç½®

```dart
final imageData = await loadImageData('assets/watermark.png');

final pdfConfig = pdf.PDFConfig.builder()
    .watermark(pdf.WatermarkConfig.imageWatermark(
      enabled: true,
      imageData: imageData,                   // å›¾ç‰‡æ•°æ®
      position: pdf.WatermarkPosition.topRight,
      mode: pdf.WatermarkMode.foreground,
      opacity: 0.5,
      rotation: 0.0,
    ))
    .build();
```

#### 4.5.3 æ°´å°ä½ç½®é€‰é¡¹

```dart
// ä¹å®«æ ¼ä½ç½®é€‰é¡¹
pdf.WatermarkPosition.topLeft      // å·¦ä¸Šè§’
pdf.WatermarkPosition.topCenter    // ä¸Šä¸­
pdf.WatermarkPosition.topRight     // å³ä¸Šè§’
pdf.WatermarkPosition.centerLeft   // å·¦ä¸­
pdf.WatermarkPosition.center       // ä¸­å¿ƒ
pdf.WatermarkPosition.centerRight  // å³ä¸­
pdf.WatermarkPosition.bottomLeft   // å·¦ä¸‹è§’
pdf.WatermarkPosition.bottomCenter // ä¸‹ä¸­
pdf.WatermarkPosition.bottomRight  // å³ä¸‹è§’
```

### 4.6 é«˜çº§è‡ªå®šä¹‰é…ç½®

#### 4.6.1 è‡ªå®šä¹‰æ ·å¼ä¸»é¢˜

```dart
final customTheme = pdf.CorporateTheme(pdf.PdfColors.blue);

final pdfConfig = pdf.PDFConfig.builder()
    .theme(customTheme)                     // åº”ç”¨ä¼ä¸šä¸»é¢˜
    .pageSize(pdf.PdfPageFormat.a4)         // A4é¡µé¢
    .margins(const pdf.EdgeInsets.all(20))  // 20ptè¾¹è·
    .build();
```

#### 4.6.2 æ¨¡å—ç‰¹å®šé…ç½®

```dart
// Logoæ¨¡å—è‡ªå®šä¹‰è®¾ç½®
pdf.ModuleTypes.logo: const pdf.AdapterModuleConfig(
  moduleType: pdf.ModuleTypes.logo,
  enabled: true,
  priority: 1,
  customSettings: {
    'defaultWidth': 150.0,    // é»˜è®¤å®½åº¦
    'defaultHeight': 75.0,    // é»˜è®¤é«˜åº¦
    'alignment': 'center',    // å¯¹é½æ–¹å¼
  },
),

// æ ‡é¢˜æ¨¡å—è‡ªå®šä¹‰è®¾ç½®
pdf.ModuleTypes.title: const pdf.AdapterModuleConfig(
  moduleType: pdf.ModuleTypes.title,
  enabled: true,
  priority: 2,
  customSettings: {
    'fontSize': 18.0,         // å­—ä½“å¤§å°
    'color': 'blue',          // å­—ä½“é¢œè‰²
    'fontWeight': 'bold',     // å­—ä½“æƒé‡
    'alignment': 'center',    // å¯¹é½æ–¹å¼
    'spacing': 10.0,          // é—´è·
  },
),
```

#### 4.6.3 è¡¨æ ¼æ ·å¼è‡ªå®šä¹‰

```dart
// ä¸»è¡¨æ¨¡å—æ ·å¼é…ç½®
pdf.ModuleTypes.mainTable: const pdf.AdapterModuleConfig(
  moduleType: pdf.ModuleTypes.mainTable,
  enabled: true,
  priority: 3,
  customSettings: {
    'showBorder': true,           // æ˜¾ç¤ºè¾¹æ¡†
    'borderColor': 'black',       // è¾¹æ¡†é¢œè‰²
    'borderWidth': 1.0,           // è¾¹æ¡†å®½åº¦
    'cellPadding': 8.0,           // å•å…ƒæ ¼å†…è¾¹è·
    'headerHeight': 30.0,         // è¡¨å¤´é«˜åº¦
    'rowHeight': 25.0,            // è¡Œé«˜
    'headerFontSize': 12.0,       // è¡¨å¤´å­—ä½“å¤§å°
    'dataFontSize': 10.0,         // æ•°æ®å­—ä½“å¤§å°
    'headerBackgroundColor': 'lightGrey',  // è¡¨å¤´èƒŒæ™¯è‰²
  },
),
```

---

## 7. å®Œæ•´ç¤ºä¾‹ä»£ç 

### 7.1 å®Œæ•´çš„é…ç½®ç¤ºä¾‹

```dart
import 'package:flutter/material.dart';
import 'package:pdf_export_print/pdf_export_print.dart' as pdf;

class PDFExportService {
  late pdf.TypeSafeDataAdapter _adapter;
  late pdf.PDFConfig _config;

  /// åˆå§‹åŒ–PDFæœåŠ¡
  void initialize() {
    _adapter = pdf.TypeSafeDataAdapter(config: _createAdapterConfig());
    _config = _createPDFConfig();
  }

  /// åˆ›å»ºé€‚é…å™¨é…ç½®
  pdf.DataAdapterConfig _createAdapterConfig() {
    // å­—æ®µæ ‡ç­¾æ˜ å°„
    final fieldLabels = pdf.FieldLabelConfig.custom({
      // ä¸»è¡¨å­—æ®µ
      'employeeId': 'å‘˜å·¥ç¼–å·',
      'name': 'å‘˜å·¥å§“å',
      'department': 'æ‰€å±éƒ¨é—¨',
      'position': 'å²—ä½èŒåŠ¡',
      'hireDate': 'å…¥èŒæ—¥æœŸ',
      'salary': 'è–ªèµ„',
      'email': 'é‚®ç®±åœ°å€',
      'phone': 'è”ç³»ç”µè¯',
      'address': 'å®¶åº­ä½å€',
      'description': 'å·¥ä½œæè¿°',

      // å­è¡¨å­—æ®µ
      'projectName': 'é¡¹ç›®åç§°',
      'startDate': 'å¼€å§‹æ—¶é—´',
      'endDate': 'ç»“æŸæ—¶é—´',
      'status': 'é¡¹ç›®çŠ¶æ€',
      'role': 'æ‹…ä»»è§’è‰²',
      'evaluation': 'é¡¹ç›®è¯„ä»·',
      'workload': 'å·¥ä½œé‡',

      // å®¡æ‰¹å­—æ®µ
      'stepName': 'å®¡æ‰¹æ­¥éª¤',
      'approver': 'å®¡æ‰¹äºº',
      'approveTime': 'å®¡æ‰¹æ—¶é—´',
      'result': 'å®¡æ‰¹ç»“æœ',
      'opinion': 'å®¡æ‰¹æ„è§',
      'signature': 'ç”µå­ç­¾å',

      // é¡µè„šå­—æ®µ
      'preparedBy': 'åˆ¶å•äºº',
      'checkedBy': 'å®¡æ ¸äºº',
      'approvedBy': 'æ‰¹å‡†äºº',
      'printDate': 'æ‰“å°æ—¥æœŸ',
      'version': 'ç‰ˆæœ¬å·',
      'totalAmount': 'æ€»é‡‘é¢',
      'remark': 'å¤‡æ³¨',
    });

    // æ¨¡å—é…ç½®
    final moduleConfigs = <pdf.ModuleTypes, pdf.AdapterModuleConfig>{
      pdf.ModuleTypes.logo: const pdf.AdapterModuleConfig(
        moduleType: pdf.ModuleTypes.logo,
        enabled: true,
        priority: 1,
        required: false,
        customSettings: {
          'defaultWidth': 120.0,
          'defaultHeight': 60.0,
          'alignment': 'left',
        },
      ),

      pdf.ModuleTypes.title: const pdf.AdapterModuleConfig(
        moduleType: pdf.ModuleTypes.title,
        enabled: true,
        priority: 2,
        required: true,
        customSettings: {
          'fontSize': 20.0,
          'color': 'darkBlue',
          'fontWeight': 'bold',
          'alignment': 'center',
          'spacing': 15.0,
        },
      ),

      pdf.ModuleTypes.mainTable: const pdf.AdapterModuleConfig(
        moduleType: pdf.ModuleTypes.mainTable,
        enabled: true,
        priority: 3,
        required: false,
        fieldConfigs: [
          pdf.FieldConfig(fieldKey: 'description', widthPercent: 1.0, sort: 1),
          pdf.FieldConfig(fieldKey: 'name', widthPercent: 0.33, sort: 5),
          pdf.FieldConfig(fieldKey: 'employeeId', widthPercent: 0.33, sort: 6),
          pdf.FieldConfig(fieldKey: 'department', widthPercent: 0.33, sort: 4),
          pdf.FieldConfig(fieldKey: 'position', widthPercent: 0.33, sort: 3),
          pdf.FieldConfig(fieldKey: 'hireDate', widthPercent: 0.33, sort: 2),
        ],
        customSettings: {
          'showBorder': true,
          'fieldsPerRow': 3,
          'cellHeight': 28.0,
        },
      ),

      pdf.ModuleTypes.subTable: const pdf.AdapterModuleConfig(
        moduleType: pdf.ModuleTypes.subTable,
        enabled: true,
        priority: 4,
        required: false,
        customSettings: {
          'columnWidths': {
            'projectName': 0.25,    // é¡¹ç›®åç§° 25%
            'role': 0.15,           // æ‹…ä»»è§’è‰² 15%
            'startDate': 0.15,      // å¼€å§‹æ—¶é—´ 15%
            'endDate': 0.15,        // ç»“æŸæ—¶é—´ 15%
            'status': 0.15,         // é¡¹ç›®çŠ¶æ€ 15%
            'evaluation': 0.15,     // é¡¹ç›®è¯„ä»· 15%
            // workload è‡ªåŠ¨åˆ†é…å‰©ä½™ç©ºé—´
          },
          'showTitle': true,
          'titleText': 'é¡¹ç›®ç»å†',
        },
      ),

      pdf.ModuleTypes.approval: const pdf.AdapterModuleConfig(
        moduleType: pdf.ModuleTypes.approval,
        enabled: true,
        priority: 5,
        required: false,
        customSettings: {
          'columnWidths': {
            'stepName': 0.20,       // å®¡æ‰¹æ­¥éª¤ 20%
            'approver': 0.15,       // å®¡æ‰¹äºº 15%
            'approveTime': 0.20,    // å®¡æ‰¹æ—¶é—´ 20%
            'result': 0.15,         // å®¡æ‰¹ç»“æœ 15%
            'opinion': 0.30,        // å®¡æ‰¹æ„è§ 30%
            // signature è‡ªåŠ¨åˆ†é…å‰©ä½™ç©ºé—´
          },
          'showTitle': true,
          'titleText': 'å®¡æ‰¹è®°å½•',
        },
      ),

      pdf.ModuleTypes.footer: const pdf.AdapterModuleConfig(
        moduleType: pdf.ModuleTypes.footer,
        enabled: true,
        priority: 6,
        required: false,
        fieldConfigs: [
          pdf.FieldConfig(fieldKey: 'remark', widthPercent: 1.0, sort: 1),
          pdf.FieldConfig(fieldKey: 'totalAmount', widthPercent: 0.67, sort: 2),
          pdf.FieldConfig(fieldKey: 'preparedBy', widthPercent: 0.33, sort: 3),
          pdf.FieldConfig(fieldKey: 'checkedBy', widthPercent: 0.33, sort: 4),
          pdf.FieldConfig(fieldKey: 'approvedBy', widthPercent: 0.33, sort: 5),
        ],
        customSettings: {
          'fieldsPerRow': 3,
          'showBorder': true,
        },
      ),
    };

    // æ•°æ®é”®æ˜ å°„
    final dataKeyMappings = <pdf.DataKeys, pdf.ModuleTypes>{
      pdf.DataKeys.logoUrl: pdf.ModuleTypes.logo,
      pdf.DataKeys.titles: pdf.ModuleTypes.title,
      pdf.DataKeys.mainData: pdf.ModuleTypes.mainTable,
      pdf.DataKeys.details: pdf.ModuleTypes.subTable,
      pdf.DataKeys.approvals: pdf.ModuleTypes.approval,
      pdf.DataKeys.footerData: pdf.ModuleTypes.footer,
    };

    return pdf.DataAdapterConfig(
      fieldLabelConfig: fieldLabels,
      moduleConfigs: moduleConfigs,
      dataKeyMappings: dataKeyMappings,
    );
  }

  /// åˆ›å»ºPDFé…ç½®
  pdf.PDFConfig _createPDFConfig() {
    return pdf.PDFConfig.builder()
        .withOrientation(pdf.PageOrientation.portrait)
        .pageSize(pdf.PdfPageFormat.a4)
        .margins(const pdf.EdgeInsets.all(20))
        .watermark(pdf.WatermarkConfig.textWatermark(
          enabled: true,
          content: 'å†…éƒ¨èµ„æ–™',
          position: pdf.WatermarkPosition.center,
          opacity: 0.1,
          rotation: 0.785,
          fontSize: 60.0,
        ))
        .build();
  }

  /// ç”ŸæˆPDF
  Future<pdf.Document> generateEmployeePDF(Map<String, dynamic> employeeData) async {
    // æ•°æ®éªŒè¯
    if (!_adapter.validateData(employeeData)) {
      throw Exception('å‘˜å·¥æ•°æ®éªŒè¯å¤±è´¥');
    }

    // åˆ›å»ºPDFæ„å»ºå™¨
    final pdfBuilder = pdf.PDFPrintBuilder()
        .withConfig(_config)
        .withDataAdapter(_adapter);

    // æ·»åŠ æ¨¡å—
    _addEnabledModules(pdfBuilder);

    // ç”ŸæˆPDF
    return await pdfBuilder.build(employeeData);
  }

  /// æ·»åŠ å¯ç”¨çš„æ¨¡å—
  void _addEnabledModules(pdf.PDFPrintBuilder builder) {
    final moduleConfigs = _adapter.config.moduleConfigs;
    final sortedModules = moduleConfigs.entries.toList()
      ..sort((a, b) => a.value.priority.compareTo(b.value.priority));

    for (final entry in sortedModules) {
      if (!entry.value.enabled) continue;

      switch (entry.key) {
        case pdf.ModuleTypes.logo:
          builder.addModule(pdf.LogoModule());
          break;
        case pdf.ModuleTypes.title:
          builder.addModule(pdf.TitleModule());
          break;
        case pdf.ModuleTypes.mainTable:
          builder.addModule(pdf.MainTableModule());
          break;
        case pdf.ModuleTypes.subTable:
          builder.addModule(pdf.SubTableModule());
          break;
        case pdf.ModuleTypes.approval:
          builder.addModule(pdf.SubTableModule(
            moduleId: 'approval',
            config: _createApprovalConfig(),
          ));
          break;
        case pdf.ModuleTypes.footer:
          builder.addModule(pdf.FooterModule());
          break;
      }
    }
  }

  /// åˆ›å»ºå®¡æ‰¹æ¨¡å—é…ç½®
  pdf.SubTableConfig _createApprovalConfig() {
    return pdf.SubTableConfig(
      showBorder: true,
      headerAlignment: pdf.Alignment.center,
      dataAlignment: pdf.Alignment.centerLeft,
      showTitle: true,
      titleAlignment: pdf.Alignment.centerLeft,
      defaultColumnWidths: pdf.SubTableConfig.approvalDefaultColumnWidths,
    );
  }
}
```

### 5.2 ä½¿ç”¨ç¤ºä¾‹

```dart
class EmployeePDFPage extends StatefulWidget {
  @override
  _EmployeePDFPageState createState() => _EmployeePDFPageState();
}

class _EmployeePDFPageState extends State<EmployeePDFPage> {
  final PDFExportService _pdfService = PDFExportService();

  @override
  void initState() {
    super.initState();
    _pdfService.initialize();
  }

  /// ç”Ÿæˆå¹¶é¢„è§ˆPDF
  Future<void> _generateAndPreviewPDF() async {
    try {
      // æ¨¡æ‹Ÿä»APIè·å–çš„å‘˜å·¥æ•°æ®
      final employeeData = await _fetchEmployeeData();

      // ç”ŸæˆPDF
      final pdfDocument = await _pdfService.generateEmployeePDF(employeeData);

      // æ˜¾ç¤ºé¢„è§ˆ
      Navigator.push(
        context,
        MaterialPageRoute(
          builder: (context) => pdf.PdfPreview(
            build: (format) => pdfDocument.save(),
            allowPrinting: true,
            allowSharing: true,
            canChangePageFormat: false,
          ),
        ),
      );
    } catch (e) {
      ScaffoldMessenger.of(context).showSnackBar(
        SnackBar(content: Text('PDFç”Ÿæˆå¤±è´¥ï¼š$e')),
      );
    }
  }

  /// æ¨¡æ‹Ÿè·å–å‘˜å·¥æ•°æ®
  Future<Map<String, dynamic>> _fetchEmployeeData() async {
    // æ¨¡æ‹ŸAPIè°ƒç”¨å»¶è¿Ÿ
    await Future.delayed(Duration(milliseconds: 500));

    return {
      pdf.DataKeys.titles.value: ['å‘˜å·¥æ¡£æ¡ˆ', 'äººäº‹ä¿¡æ¯è¡¨'],

      pdf.DataKeys.logoUrl.value: 'https://example.com/company-logo.png',

      pdf.DataKeys.mainData.value: {
        'employeeId': 'EMP001',
        'name': 'å¼ ä¸‰',
        'department': 'æŠ€æœ¯ç ”å‘éƒ¨',
        'position': 'é«˜çº§è½¯ä»¶å·¥ç¨‹å¸ˆ',
        'hireDate': '2022-03-15',
        'salary': 18000,
        'email': 'zhangsan@company.com',
        'phone': '13800138000',
        'address': 'åŒ—äº¬å¸‚æœé˜³åŒºxxxè¡—é“xxxå·',
        'description': 'è´Ÿè´£æ ¸å¿ƒä¸šåŠ¡ç³»ç»Ÿçš„æ¶æ„è®¾è®¡å’Œå¼€å‘å·¥ä½œï¼Œå…·æœ‰ä¸°å¯Œçš„å…¨æ ˆå¼€å‘ç»éªŒã€‚',
      },

      pdf.DataKeys.details.value: [
        {
          'projectName': 'PDFå¯¼å‡ºç³»ç»Ÿ',
          'role': 'æŠ€æœ¯è´Ÿè´£äºº',
          'startDate': '2023-01-01',
          'endDate': '2023-06-30',
          'status': 'å·²å®Œæˆ',
          'evaluation': 'ä¼˜ç§€',
          'workload': '100%',
        },
        {
          'projectName': 'ç”¨æˆ·ç®¡ç†å¹³å°',
          'role': 'åç«¯å¼€å‘',
          'startDate': '2023-07-01',
          'endDate': '2023-12-31',
          'status': 'è¿›è¡Œä¸­',
          'evaluation': 'è‰¯å¥½',
          'workload': '80%',
        },
      ],

      pdf.DataKeys.approvals.value: [
        {
          'stepName': 'éƒ¨é—¨å®¡æ‰¹',
          'approver': 'æå››',
          'approveTime': '2024-01-15 10:30:00',
          'result': 'é€šè¿‡',
          'opinion': 'å‘˜å·¥è¡¨ç°ä¼˜ç§€ï¼ŒåŒæ„æ™‹å‡ç”³è¯·',
          'signature': 'æå››',
        },
        {
          'stepName': 'HRå®¡æ‰¹',
          'approver': 'ç‹äº”',
          'approveTime': '2024-01-16 14:20:00',
          'result': 'é€šè¿‡',
          'opinion': 'ç¬¦åˆæ™‹å‡æ¡ä»¶ï¼Œäºˆä»¥æ‰¹å‡†',
          'signature': 'ç‹äº”',
        },
      ],

      pdf.DataKeys.footerData.value: {
        'preparedBy': 'å¼ ä¸‰',
        'checkedBy': 'æå››',
        'approvedBy': 'ç‹äº”',
        'printDate': DateTime.now().toString().substring(0, 10),
        'version': 'v1.0',
        'totalAmount': '18000å…ƒ',
        'remark': 'æ­¤æ¡£æ¡ˆä»…ä¾›å†…éƒ¨ä½¿ç”¨ï¼Œè¯·å¦¥å–„ä¿ç®¡ã€‚',
      },
    };
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('å‘˜å·¥PDFå¯¼å‡º'),
        backgroundColor: Colors.blue,
        foregroundColor: Colors.white,
      ),
      body: Center(
        child: ElevatedButton(
          onPressed: _generateAndPreviewPDF,
          style: ElevatedButton.styleFrom(
            backgroundColor: Colors.blue,
            foregroundColor: Colors.white,
            padding: EdgeInsets.symmetric(horizontal: 32, vertical: 16),
          ),
          child: Text('ç”Ÿæˆå‘˜å·¥PDF', style: TextStyle(fontSize: 16)),
        ),
      ),
    );
  }
}
```

### 7.2 æ–°æ¶æ„æ•°æ®ç¤ºä¾‹

#### 7.2.1 ä½¿ç”¨æ–°æ•°æ®æ¨¡å‹çš„å®Œæ•´ç¤ºä¾‹

```dart
// ä½¿ç”¨æ–°æ•°æ®æ¨¡å‹çš„å‘˜å·¥æ•°æ®
final employeeData = {
  // Logoæ•°æ® - ä½¿ç”¨LogoDataæ¨¡å‹
  'logoUrl': {
    'logoUrl': 'https://company.com/logo.png',
    'width': pw.LogoConstants.defaultWidth,
    'height': pw.LogoConstants.defaultHeight,
  },

  // æ ‡é¢˜æ•°æ® - ä½¿ç”¨TitleDataæ¨¡å‹
  'titles': {
    'titles': ['å‘˜å·¥ä¿¡æ¯è¡¨', '2024å¹´åº¦æŠ¥å‘Š'],
    'color': 'blue',
    'alignment': 'center',
  },

  // ä¸»è¡¨æ•°æ® - ä½¿ç”¨MainTableDataæ¨¡å‹
  'mainData': {
    'name': 'å¼ ä¸‰',
    'employeeId': 'EMP001',
    'department': 'æŠ€æœ¯éƒ¨',
    'position': 'é«˜çº§å·¥ç¨‹å¸ˆ',
    'email': 'zhangsan@company.com',
    'phone': '138-0000-0000',
    'hireDate': '2020-01-15',
    'description': 'è´Ÿè´£æ ¸å¿ƒç³»ç»Ÿå¼€å‘å’ŒæŠ€æœ¯æ¶æ„è®¾è®¡ï¼Œå…·æœ‰ä¸°å¯Œçš„é¡¹ç›®ç»éªŒã€‚',
  },

  // å­è¡¨æ•°æ® - ä½¿ç”¨SubTableDataæ¨¡å‹
  'details': [
    {
      'projectName': 'ç”µå•†å¹³å°é‡æ„',
      'status': 'å·²å®Œæˆ',
      'startDate': '2023-01-01',
      'endDate': '2023-06-30',
      'evaluation': 'ä¼˜ç§€',
      'workload': '100%',
    },
    {
      'projectName': 'ç§»åŠ¨ç«¯APPå¼€å‘',
      'status': 'è¿›è¡Œä¸­',
      'startDate': '2023-07-01',
      'endDate': '2024-03-31',
      'evaluation': 'è‰¯å¥½',
      'workload': '80%',
    },
  ],

  // é¡µè„šæ•°æ® - ä½¿ç”¨MainTableDataæ¨¡å‹
  'footerData': {
    'preparedBy': 'å¼ ä¸‰',
    'checkedBy': 'æå››',
    'approvedBy': 'ç‹äº”',
    'printDate': '2024-01-15',
    'version': 'v1.0',
    'remark': 'æ­¤æŠ¥å‘Šä»…ä¾›å†…éƒ¨ä½¿ç”¨',
    'totalAmount': 'å¹´åº¦ç»©æ•ˆå¥–é‡‘ï¼š50000å…ƒ',
  },
};
```

#### 7.2.2 å¸¸é‡ä½¿ç”¨æœ€ä½³å®è·µ

```dart
// âœ… æ¨èï¼šä½¿ç”¨å¸¸é‡
final logoConfig = {
  'logoUrl': 'https://company.com/logo.png',
  'width': pw.LogoConstants.largeWidth,     // 150.0
  'height': pw.LogoConstants.largeHeight,   // 75.0
};

// âŒ é¿å…ï¼šç¡¬ç¼–ç æ•°å€¼
final logoConfig = {
  'logoUrl': 'https://company.com/logo.png',
  'width': 150.0,  // åº”ä½¿ç”¨å¸¸é‡
  'height': 75.0,  // åº”ä½¿ç”¨å¸¸é‡
};
```

---

## ğŸ“š ç›¸å…³èµ„æº

- [ç¤ºä¾‹ä»£ç ](../example/lib/type_safe_adapter_example.dart)
- [APIæ–‡æ¡£](./APIæ–‡æ¡£.md)
- [æ›´æ–°æ—¥å¿—](../CHANGELOG.md)
- [é—®é¢˜åé¦ˆ](https://github.com/your-repo/issues)

---

*æœ€åæ›´æ–°: 2024-07-12 - æ¶æ„é‡æ„ï¼Œç»Ÿä¸€æ•°æ®æ¨¡å‹ï¼Œç®€åŒ–ä½¿ç”¨æ–¹å¼*
