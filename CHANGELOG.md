# Changelog

## [0.1.0] - 2025-07-19

### ✨ 新增功能
- **图片展示功能**: 子表模块支持图片内容展示，图片高度基于列宽自适应缩放
- **类型安全数据适配器**: 全新的 TypeSafeDataAdapter 替代原有适配器，提供完整的类型安全保障
- **模块化配置系统**: 基于泛型的配置基类方案，支持类型安全的模块配置转换
- **智能图片识别**: 支持 picsum.photos 等图片服务域名，自动识别图片URL和字段名关键词
- **增强字段标签映射**: 支持嵌套Map结构的分层配置，实现全局映射和模块特定映射
- **单元格渲染器**: 策略模式的CellRenderer系统，支持文本和图片内容的统一渲染

### 🐛 修复问题
- **图片显示问题**: 修复TypeSafeDataAdapter强制字符串转换导致的图片数据丢失问题
- **类型转换错误**: 为所有配置类添加完整的copyWith方法，避免强制类型转换异常
- **表格对齐问题**: 修复ImageCellRenderer缺少对齐包装和Table垂直对齐问题
- **字段参数传递**: 修复MainTableConfig中fieldsPerRow参数传递问题
- **僵尸参数清理**: 移除未使用的配置参数，简化配置结构

### 🚀 性能优化
- **PDF构建器优化**: 使用预处理+单循环替代嵌套循环，支持一对多的模块映射关系
- **图片渲染优化**: 图片直接撑满列宽显示，高度自适应，简化实现和使用方式
- **配置验证增强**: 完善的配置验证系统，提供详细的错误和警告信息

### 📚 文档更新
- **使用指南完善**: 更新图片展示功能使用说明，修复配置示例错误
- **API文档增强**: 为所有公开API添加完整的文档注释
- **示例代码整合**: 合并示例文件，提供完整的TypeSafe配置演示

### 🔧 技术改进
- **架构重构**: 采用ModuleDescriptor统一数据源，简化数据流转
- **类型安全增强**: 全面使用强类型声明，禁用var和dynamic
- **代码规范**: 严格遵循Dart/Flutter编码规范，通过静态分析检查

---

## [0.0.1] - 2025-07-12

### Added
- 初始版本发布
- 核心PDF生成框架
- 模块化设计架构
- 标题模块 (TitleModule)
- 主表模块 (MainTableModule)
- 子表模块 (SubTableModule)
- 数据适配器系统
- 配置管理系统
- 样式主题支持
- 示例应用

### Features
- 支持多种PDF模块
- 高度可配置的样式系统
- 灵活的数据适配机制
- 自动分页处理
- 跨列布局支持
- 自定义主题

### Technical
- 基于 pdf ^3.11.3
- 支持 Flutter 3.0+
- 符合 Dart 包发布规范
- 完整的类型安全
